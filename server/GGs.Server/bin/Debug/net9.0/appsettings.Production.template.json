{
  "ConnectionStrings": {
    "Default": "Server=localhost;Database=GGsProduction;User Id=ggs_user;Password=${DB_PASSWORD};TrustServerCertificate=true;Encrypt=true;",
    "Redis": "localhost:6379,password=${REDIS_PASSWORD},ssl=true"
  },
  "Auth": {
    "JwtKey": "${JWT_SIGNING_KEY}",
    "Issuer": "https://api.ggs.company.com",
    "Audience": "ggs-clients",
    "IssueRefreshTokens": true,
    "RefreshTokenLifetimeDays": 30,
    "AccessTokenLifetimeMinutes": 15
  },
  "License": {
    "PublicKeyPem": "${LICENSE_PUBLIC_KEY_PEM}",
    "Issuer": "GGs Enterprise License Authority"
  },
  "Server": {
    "AllowedOrigins": "https://admin.ggs.company.com,https://portal.ggs.company.com",
    "AllowSwaggerInProd": false,
    "RequireHttps": true,
    "Kestrel": {
      "MaxConcurrentConnections": 2048,
      "MaxRequestBodySizeBytes": 5242880,
      "KeepAliveTimeoutSeconds": 120,
      "RequestHeadersTimeoutSeconds": 30
    }
  },
  "Security": {
    "ClientCertificate": {
      "Enabled": true,
      "FindType": "FindByThumbprint",
      "FindValue": "${CLIENT_CERT_THUMBPRINT}",
      "StoreName": "My",
      "StoreLocation": "LocalMachine",
      "RequireForPaths": ["/api/audit/log", "/api/ingest/events"]
    },
    "RequireClientCertificate": true,
    "Enable2FA": true,
    "JwtLifetimeMinutes": 15,
    "EnableRateLimiting": true
  },
  "RateLimiting": {
    "Enabled": true,
    "GlobalPolicy": {
      "PermitLimit": 1000,
      "Window": "00:01:00"
    },
    "ApiPolicy": {
      "PermitLimit": 100,
      "Window": "00:01:00"
    },
    "LicenseIssuePolicy": {
      "PermitLimit": 10,
      "Window": "00:01:00"
    }
  },
  "KeyVault": {
    "Uri": "https://ggs-prod-kv.vault.azure.net/",
    "ClientId": "${KEYVAULT_CLIENT_ID}",
    "ClientSecret": "${KEYVAULT_CLIENT_SECRET}",
    "TenantId": "${AZURE_TENANT_ID}"
  },
  "ApplicationInsights": {
    "ConnectionString": "${APPINSIGHTS_CONNECTION_STRING}",
    "EnableAdaptiveSampling": true,
    "EnablePerformanceCounters": true,
    "EnableHeartbeat": true
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "System.Net.Http.HttpClient": "Warning"
    },
    "ApplicationInsights": {
      "LogLevel": {
        "Default": "Information",
        "Microsoft": "Warning"
      }
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "formatter": "Serilog.Formatting.Json.JsonFormatter"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "/var/log/ggs/ggs-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "formatter": "Serilog.Formatting.Json.JsonFormatter"
        }
      },
      {
        "Name": "ApplicationInsights",
        "Args": {
          "connectionString": "${APPINSIGHTS_CONNECTION_STRING}",
          "telemetryConverter": "Serilog.Sinks.ApplicationInsights.TelemetryConverters.TraceTelemetryConverter"
        }
      }
    ],
    "Enrich": ["FromLogContext", "WithMachineName", "WithEnvironmentUserName"]
  },
  "Audit": {
    "Enabled": true,
    "RetentionDays": 2555,
    "ArchiveAfterDays": 365,
    "EnableRealTimeAlerts": true,
    "CriticalActionsRequireApproval": true
  },
  "Otel": {
    "ServerEnabled": true,
    "ServiceName": "GGs.Server",
    "ServiceVersion": "1.0.0",
    "Endpoint": "${OTEL_EXPORTER_OTLP_ENDPOINT}",
    "Headers": "${OTEL_EXPORTER_OTLP_HEADERS}"
  },
  "Database": {
    "UseEnsureCreated": false,
    "CommandTimeout": 60,
    "EnableSensitiveDataLogging": false,
    "EnableDetailedErrors": false
  },
  "Seed": {
    "AdminEmail": "admin@company.com",
    "AdminPassword": "${ADMIN_PASSWORD}",
    "CreateDefaultRoles": true
  },
  "Email": {
    "SmtpHost": "${SMTP_HOST}",
    "SmtpPort": 587,
    "SmtpUser": "${SMTP_USER}",
    "SmtpPassword": "${SMTP_PASSWORD}",
    "SmtpUseSsl": true,
    "FromAddress": "noreply@company.com",
    "FromName": "GGs Enterprise Platform"
  },
  "HealthChecks": {
    "Enabled": true,
    "DatabaseTimeoutSeconds": 30,
    "ExternalServiceTimeoutSeconds": 10
  },
  "Features": {
    "EnableCloudProfiles": true,
    "EnableAdvancedAnalytics": true,
    "EnableEliBotAI": true,
    "EnableRealTimeUpdates": true,
    "EnableBulkOperations": true
  },
  "Compliance": {
    "DataRetentionDays": 2555,
    "RequireDataProcessingConsent": true,
    "EnableGdprFeatures": true,
    "AuditAllApiCalls": true,
    "RedactPiiInLogs": true
  },
  "Performance": {
    "EnableResponseCaching": true,
    "CacheDurationMinutes": 5,
    "EnableOutputCaching": true,
    "MaxConcurrentRequests": 2000
  },
  "Security": {
    "AllowedFileTypes": [".json", ".csv", ".xlsx", ".zip"],
    "MaxFileUploadSizeBytes": 52428800,
    "RequireStrongPasswords": true,
    "PasswordMinLength": 12,
    "PasswordRequireDigit": true,
    "PasswordRequireLowercase": true,
    "PasswordRequireUppercase": true,
    "PasswordRequireNonAlphanumeric": true,
    "LockoutDurationMinutes": 30,
    "MaxFailedLoginAttempts": 5
  }
}
